{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "/hooks/form-submission/stop-action.json",
  "title": "FormSubmissionStopAction",
  "oneOf": [
    {
      "$ref": "#/$defs/reject"
    },
    {
      "$ref": "#/$defs/skipSave"
    }
  ],
  "$defs": {
    "reject": {
      "$id": "FormSubmissionStopActionReject",
      "description": "Do not save the form submission. Respond with an error message that will be shown to the end-user. This is a terminating response.",
      "type": "object",
      "properties": {
        "action": {
          "type": "string",
          "const": "reject"
        },
        "message": {
          "type": "string"
        }
      },
      "required": ["action", "message"]
    },
    "skipSave": {
      "$id": "FormSubmissionStopActionSkipSave",
      "description": "Continue to other hooks (if any), but do not save the form submission. This is a terminating response.",
      "type": "object",
      "properties": {
        "action": {
          "type": "string",
          "const": "skipSave"
        }
      },
      "required": ["action"]
    }
  }
}
